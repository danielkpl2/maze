import org.junit.Assert;
import org.junit.Test;

public class TestMaze {

    @Test
    public void testExample(){
        String expected =
                "##########\n" +
                "#SXX     #\n" +
                "# #X######\n" +
                "# #XX    #\n" +
                "# ##X# ###\n" +
                "# # X# # #\n" +
                "# # XX   #\n" +
                "# ###X####\n" +
                "# #  XXXE#\n" +
                "##########\n";
        Maze maze = new Maze("example.txt");
        boolean solved = maze.solveMaze();
        Assert.assertEquals(true, solved);
        Assert.assertEquals(expected, maze.toString());
    }

    @Test
    public void testNoSolutionInput(){
        String expected = "No solution.";
        Maze maze = new Maze("no_solution_input.txt");
        boolean solved = maze.solveMaze();
        Assert.assertEquals(false, solved);
        Assert.assertEquals(expected, maze.toString());
    }


    @Test
    public void testInput(){
        String expected =
                "#####\n" +
                "#S# #\n" +
                "#X# #\n" +
                "#XXE#\n" +
                "#####\n";
        Maze maze = new Maze("input.txt");
        boolean solved = maze.solveMaze();
        Assert.assertEquals(true, solved);
        Assert.assertEquals(expected, maze.toString());
    }

    @Test
    public void testSmallInput(){
        String expected =
                "#####\n" +
                "#SXX#\n" +
                "# #X#\n" +
                "# #X#\n" +
                "# #E#\n" +
                "#####\n";
        Maze maze = new Maze("small.txt");
        boolean solved = maze.solveMaze();
        Assert.assertEquals(true, solved);
        Assert.assertEquals(expected, maze.toString());
    }

    @Test
    public void testSparseMediumInput(){
        String expected =
                "#####################\n" +
                "#S                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#X                  #\n" +
                "#XXXXXXXXXXXXXXXXXXE#\n" +
                "#####################\n";
        Maze maze = new Maze("sparse_medium.txt");
        boolean solved = maze.solveMaze();
        Assert.assertEquals(true, solved);
        Assert.assertEquals(expected, maze.toString());
    }

    @Test
    public void testMediumInput(){
        String expected =
                "#######################\n" +
                "#S#   #           # # #\n" +
                "#X# # # ####### # # # #\n" +
                "#X# # #       # # # # #\n" +
                "#X# # ######### # # # #\n" +
                "#X# # #XXXXXXX# #   # #\n" +
                "#X# # #X#####X# ##### #\n" +
                "#X# # #XXXXX#X# #   # #\n" +
                "#X### ### #X#X# # # # #\n" +
                "#XXX  #   #X#X# # # # #\n" +
                "###X#######X#X# ### # #\n" +
                "#  XXX#XXXXX#X#   # # #\n" +
                "#####X#X#####X### #XXX#\n" +
                "#   #XXX  #  XXX# #X#X#\n" +
                "# # ##### ### #X# #X#X#\n" +
                "# #     # #   #X  #X#X#\n" +
                "# ##### # # ###X###X#X#\n" +
                "# #   # # #   #X#XXX#X#\n" +
                "# # # # ##### #X#X# #X#\n" +
                "#   # #       #XXX# #E#\n" +
                "#######################\n";
        Maze maze = new Maze("medium_input.txt");
        boolean solved = maze.solveMaze();
        Assert.assertEquals(true, solved);
        Assert.assertEquals(expected, maze.toString());
    }


    @Test
    public void testLargeInput(){
        String expected =
                "#################################################################################################################################################################\n" +
                "#S    #   #   #   #   #         #   #   #     #     #     # #     #             #   #     #       #               #       #         #     #   #   #   #     #   #\n" +
                "#X##### # ### # # ### # ##### # ### # ### ### # ### # ### # # ### # ########### # ### ### # ##### # ############# ####### ######### # ### # # ### # # # ### # # #\n" +
                "#XXXXX# # #     #     # #     #   # #     # #   #   #   # #   #   #       #     # #   # # #     # #   #     #       #     #         #   # # #     # # # # #   # #\n" +
                "#####X### # ########### # ##### # # # ##### # # ####### # # ##### ##### # ####### # ### # ### ### ### ##### # ### # # # ### # ####### # # # ####### # # # # ### #\n" +
                "#XXXXX#   #         #   #     # # # #     # # # #   #   #   #   #     # #     #   # #   #   #   #   # #     # #   # # #     #       # # #   #   #   # #   # #   #\n" +
                "#X##### ########### # ####### # # # ##### # # ### # ####### # # # ### # ### # # ### ### ### # # ### # # ##### # ### ############### ### ##### # # ### ##### # ###\n" +
                "#X#    XXXXXXX    # #   #     # #   #   #   #   # # #   #   # # # # # #   # #     #     #   # # # #   # #     # #   #   #             #   #   # #   #       #   #\n" +
                "#X# ###X#####X### # # # ####### ####### ####### # # # # ### # # # # # ##### ### ######### ### # # ##### # ### ### ### # # ######### # # # ##### ### #############\n" +
                "#X#   #X#   #X# # # # #       # #     #   #   #   # # # #   # #   # # #     #   #   #   #   # # #     # #   # #   #   # #     #     # # #     # #   #           #\n" +
                "#X#####X# ###X# # # ####### # # ### # ### ### ##### # # # ######### # # ##### ### # # ##### ### ##### # ### # # ####### ##### # ##### ####### # # ### ######### #\n" +
                "#X#XXXXX# #XXX#   #   #   # # #   # #   #   # #   # # #   #     #     # #     #   # #   #   #     #   #     # #       #   #   #     #       # # # # #     #   # #\n" +
                "#X#X##### #X####### # # # # # ### # ### ### # ### # # ##### ### # ##### # ##### ### ### # ### ##### # ############### ### ######### ####### # # # # ### ### # # #\n" +
                "#X#X#     #XXX#   # # # # # #   # #   #   #   #   # #         # # #   # # #     # #       # # #     # # #       # #     # #   #     #   #   #   # #       # # # #\n" +
                "#X#X# #######X# # ### # ### ##### ### ### # ### ### ########### ### # # # # ##### ##### ### # # ##### # # ##### # # ### # # # ####### # # ### ### ##### # # # ###\n" +
                "#X#X#      XXX# # #   #     #     # # # # #     #   #   # #     #   #   #   #     #   #     # #     # # #     # #   #   #   #   #XXX# #XXX    #   #   # #   #   #\n" +
                "#X#X#######X### # # ######### ##### # # # ### ### ### # # # ##### ########### ##### # ##### # # # ### # ##### # ##### ######### #X#X###X#X##### ### # # # ##### #\n" +
                "#XXX#   # #X#   # #       #   #   # #   #   # #       #   # #         #       #     #         # # #   #     # #   # # #   #XXX# #X#XXX#X#X#   #   # #   #   #   #\n" +
                "##### # # #X# ### ##### # # ##### # ####### # # ########### # ####### # ####################### ### ####### # ### # # # # #X#X# #X###X#X#X# # ### ######### # ###\n" +
                "#     #   #X#   # #     # # #   #     #   #   # #   #     # # #   #   #     #     #     # #     #   #     #   #     #   # #X#X  #XXX#XXX#X# # #   #XXXXX#   # # #\n" +
                "# ####### #X##### ####### # # # ### # # # # ### ### # ### # ### ### ####### # ### ##### # # ##### ### ### ######### #######X#X#####X# ###X### # ###X###X# ### # #\n" +
                "# #     # #X#XXX#XXXXX#   # # #   # # # # # # #   # # #   #   #   #       #   #       # #   #     # #   #     #XXX# # #XXXXX#XXX#XXX#   #XXX#  XXX#X#XXX# #     #\n" +
                "# # ### # #X#X#X#X###X# ### # ### ### # ### # ### # # ####### ### # ##### ########### # # ### ##### ######### #X#X# # #X#######X#X##### ###X###X#X#X#X### ### # #\n" +
                "# #   # # #XXX#XXX# #X# #   #   #   # #   # #     # # #   #     # #   #   #   #     # # # # #   #     #XXXXX#  X#XXXXXXX#   #XXX#X#     #XXX#XXX#X#X#XXX# #   # #\n" +
                "# ### # ########### #X# ### ### ### # # # # ### ### # # # # # # # ##### ##### # # ### # # # ### # ### #X###X###X### ##### # #X###X# #####X###X###X#X###X# # ### #\n" +
                "#   # #             #X# #   # #   #     # # #   #   #   #   # #   #   # #       #   #   # #   # #   # #X#XXX# #X#   #     # #XXX#X#     #X#XXX#XXX#X#XXX# # #   #\n" +
                "### # ############# #X# # ### ### ##### # # # ### ####### ### ##### # # # ######### ### # ### # # ### #X#X### #X# ### ##### ###X#X##### #X#X###X###X#X##### #####\n" +
                "#   # #         #  XXX# #   #     #     #   #       # #   #   #   # #   # #   #     #   #   #   # #   #X#XXXXXXX#   # #   # # #X#X    # #XXX#XXX#XXX#X#   #     #\n" +
                "### # # ######### #X### ### ####### ############# # # # ### # # # # ##### # # # # ### ##### ####### ###X######### # # # ### # #X#X### # #####X# #X###X# # ##### #\n" +
                "#   #   #       # #XXXXXXX#     #   #       #   # # #   #   # # #   #   # # # # # #   #   #   #     #XXX# #     # # # #     #  XXX#   #   #  X# #X#XXX# # #   # #\n" +
                "# ######### ### # ##### #X##### # ### ##### # # # # # ######### ####### # # # # # # ### # ### # ### #X### # ### ### # ############# ### # ###X###X#X### # ### # #\n" +
                "#           # #   #     #X#     #     #     # #   # # #                   # # # #   #   # #   #   # #XXX#   #   #   #   # #         #   #   #XXX#X#XXX# #       #\n" +
                "########### # ##### #####X# ####### ### # ### ##### # # ####### # ######### ### ##### ### # ##### #####X##### ### ### # # # ######### ##### ###X#X###X# ##### ###\n" +
                "#   #     #   #     #    X#       # #   #   #   #   #   #       #   #     # #   #   # #   # #   # #XXXXX    #     # # # #   #         #   #   #XXX#XXX#     #   #\n" +
                "# # ##### ###############X####### # # ######### # ##### # ######### # # # # # ### # # ##### ### # #X############### # ### ### ######### # ### #####X####### # # #\n" +
                "# #              XXXXXXX#X#XXX#   # # #       # #   #   #       #   # # #   #   # # #   # #     # #XXX# #     #       #   #   #       # #   #   # #X#XXXXX# # # #\n" +
                "# ####### #######X#####X#X#X#X# # # # # ##### # ### ########### # ### # ####### ### ### # ##### # ###X# # ### # ####### ### ### ##### # ### ### # #X#X###X# # # #\n" +
                "#       # #XXXXXXX#XXX#XXX#X#X# #   #   # #   #   #       #   # #   # #   #     #   #     #     # #XXX#     #       #   #   # # # #     # #     # #X#X#XXX# # # #\n" +
                "# ##### ###X# #####X#X#####X#X# ######### # ##### ####### # # # ### # ##### ##### ##### ### ##### #X########### ##### ### ### # # # ##### ####### #X#X#X##### ###\n" +
                "#     #   #X# #XXX#X#X#XXXXX#XXXXXXX#XXX#   #XXX# #     # # # #   # # #     #     #   #     #     #X#XXX      #       # # #   # # #       #   #   #XXX#XXXXXXXXX#\n" +
                "##### ### #X###X#X#X#X#X###########X#X#X#####X#X# ##### # ### ##### # # ##### ##### # ##### # #####X#X#X############### # # ### # ### ##### # # ###############X#\n" +
                "#     # # #XXXXX#XXX#XXX#   #   # #XXX#XXXXXXX#X#     # #       #   #   #     #   # #   #   # #   #XXX#X    #       #     #   # #   #   #   # #   #   #XXXXXXXXX#\n" +
                "# ##### # ############# ### # # # #############X##### # ##### # # # ##### ##### # # ### # ### # # #####X### # # ### # ####### # ### ### # ####### # # #X####### #\n" +
                "# #   #   #     #     #     # # #   #   #XXXXX#X#   #   #     #   #   # #   #   # #   #   # #   #     #XXX# # # #   #   #   # #   #     # #  XXX#   # #XXXXX#   #\n" +
                "# # # ##### ### # ### ##### # # # # # # #X###X#X# ##### ############# # ### ### # ### ##### ### #########X# # ### ##### ### # ### ####### ###X#X### #######X# ###\n" +
                "# # #     # #   #   #     # # #   #   # #X# #XXX#     #         #   #   #     # #   # #   # #XXXXXXXXXXXXX#   #   # #   #   #   # # #     #XXX#XXXXXXXXXXXXX# # #\n" +
                "# # ##### # # ##### ##### # # ######### #X# ######### ######### # # ######### ##### # # # # #X##### ########### ### # ### ##### # # # # # #X####### ######### # #\n" +
                "# #   #     #       #     #     #       #X# #     #   #         # #XXX#XXXXX# #     # # #   #XXX# #     # #     #   # # # #   #   #   # # #XXX#   #   #   #   # #\n" +
                "# ### # ############### ######### #######X# # ### # # # ######### #X#X#X###X# # ##### # ### ###X# ##### # # ##### ### # # # # ####### ### ###X# # ### # # # ### #\n" +
                "#   # # #   #           #         #XXXXX#XXX  #     #   #   #   # #X#X#X#XXX# # #   # # # #   #X#   # # # #   #   #   # #   # #       #   #XXX# #   # # # #     #\n" +
                "### ### ### # ########### #########X###X###X##### ####### # # # # #X#X#X#X### # # ### # # ### #X# # # # # # ### # # ### ##### ######### ###X####### # # # #######\n" +
                "# # #   #   #   #         #   #   #X# #XXXXX#     #       #   #   #X#XXX#XXX# #     # # #     #X# #   # # # #   # #   #     #         #   #XXX#       # #   #   #\n" +
                "# # # ### ####### # ######### # ###X# ####### ############# #######X# #####X# ##### # # ##### #X# ##### # # # ### ### ##### ######### ### ###X# ########### ### #\n" +
                "#   # #   #     # #   #       #   #XXXXX# #   #  XXX#XXX#   #  XXXXX#   #XXX#       #   #XXX# #X#       # #   #   #   #XXX#       #   #XXXXXXX# #   #   # # #   #\n" +
                "### # # ##### # # ### # ######### #####X# # #####X#X#X#X#######X####### #X##### ##### ###X#X# #X####### # ##### ### ###X#X####### # ###X####### # # # # # # # ###\n" +
                "#   # #     # #     #   #       #      X#   #XXX#X#X#X#XXX# #XXX#     # #X#XXX#XXX# # #XXX#X# #X#       #     # #     #X#XXX# #   #   #X#     # # #   #   # # # #\n" +
                "# ### ##### # ### ####### ##### #######X### #X#X#X#X#X###X# #X### ### # #X#X#X#X#X# # #X###X###X# ##### ##### # # ### #X###X# # ##### #X##### # ####### # # # # #\n" +
                "#     #     # # #   #     # #   #XXXXXXX#   #X#X#X#XXX# #X  #XXX# # #   #XXX#XXX#XXX  #X#XXX#XXX#     #     #   # #   #X# #X# # #   #  X  #   # #     # # #     #\n" +
                "####### ##### # ### ####### # ###X###########X#X#X##### #X#####X# # ###############X###X#X###X######### ######### # ###X# #X# # # # ###X# # ### # ### ### ### # #\n" +
                "#       #     # #       #   # # #XXX#XXXXXXXXX#XXX#   #  X    #X# #   #  XXXXXXXXXXX#XXX#XXXXX# #     # #     #   #   #X# #XXX# # # # #X# #   #     #         # #\n" +
                "# ##### # # ### # # ### # ### # ###X#X############# # ###X#####X# ### # #X###########X######### # ### # # ### # #######X# # #X# ### # #X# ### ########### ##### #\n" +
                "#     #   # # # # # #   #     #    XXX#     #       # # #XXXXXXX# #   # #XXXXXXXXXXXXX#     #     # #   # #   # #XXXXXXX# # #X# #XXXXXXX# #   #           #   # #\n" +
                "##### ##### # # # # # ### # ########### ### # # ##### # ######### # ############### # # ### # ##### ####### # # #X####### # #X# #X####### # ### ############# ###\n" +
                "# #   #   # # # # # #     # #     #     #   # # #     #     #   # #             #   # #   # #       #   #   #   #XXXXXXX# # #XXXXX#   # #   #   #     #     #   #\n" +
                "# # # # # # # # # ########### ### # ##### ##### # ######### # ### ####### ##### # ####### # ########### # ### #########X# # ### ### # # ##### ### ### # ### ### #\n" +
                "#   #   # #     #     #     # #   # #         # #     #   #       #     #     # # #       # #             #   #   #   #X# # #   #   # #       #   # #   #   #   #\n" +
                "######### ########### # ### ### ### # ### ### # ##### # # ### ### # ### ##### # # # ####### # ####### ##### ### # # ###X# # # # # ### ### # ### ### ### # ### ###\n" +
                "#   #     #   #     #   #   #   #   #   #   #   # #   # # # # #   #   # #     #   #   #   #   # #   # #     #   # #XXXXX#   # # #   # #   #   # #   # # #     # #\n" +
                "# # # ####### # ####### # ### ### ### # ### ##### # ##### # # ######### # ####### ### # # ##### # # ### ######### #X######### ####### # ####### # ### # ####### #\n" +
                "# # #       # #     #   # #     #   # # #     # #         #             #     # # #     # #   #   #   #   #   #   #XXX#XXXXX# #       #       #   #     #     # #\n" +
                "# ######### # # ### ##### # ####### # # ##### # ####################### # ### # # # ##### # # ##### # # # # # # #####X#X###X# # ############# # ##### ### ### # #\n" +
                "# #     #     # # #   #   # #       # #     # #   #     #     # #       # #   #   #   #   # # #   # #   #   #   # #XXX#X#XXX#   #           # #   #   #   # # # #\n" +
                "# # # # # # ### # ### # # # # ####### ##### # ### # ### # ### # # ####### ########### # ### # # # ############### #X###X#X####### # ##### ### ### # ### ### # # #\n" +
                "#   # #   #     #   # # # # #     # # #   # #   # # # #   #       #       #     #     # #   # # #   #   #       #  XXX#X#XXX#   # # #   #     #   #   # # #   # #\n" +
                "##### ############# # # # # ##### # # # # ##### # # # ############# ####### ### ####### # ##### ### # # # # ### #####X#X###X### # # # ######### ##### # # ### # #\n" +
                "# #   #   #       #   # #         #   # #       #   #               #   # #   #         #       # #   # # # # #     #XXX#  X    # # # #       # #   #   #   #   #\n" +
                "# # ##### # ############### ########### ############# ######### ##### # # ### ########### ####### # ##### # # ##### ##### #X####### # # # ### ### # # ### #######\n" +
                "# #     # #   #   #   #     #   #   #   #   #     #   #   #     #     #     # #   #     #     #   # #     #   #     #     #X#     # #   #   #     #   #   #     #\n" +
                "# ##### # ### # # # # # ##### ### # # ### # # ### # ### # # ##### ####### # # # # # ### ##### # ### # ####### ####### #####X##### # ### ### ########### ### ### #\n" +
                "# #     #   #   #   # #   # # #   #   #   # #   # #     # # #     #       # #   #   # #   # #     # #     #   #       #  XXX  #   #   # #   #         # #   #   #\n" +
                "# # ####### # ####### ### # # # ####### ####### # ####### # ### ##################### ### # ##### # ##### ### # ####### #X### # ##### ### ### # # ##### ##### ###\n" +
                "#   #         #   # #     # #   #             # #     #   #   # #                       # #   #   #     #   #   #     # #XXX#       # #   # # # #   #     #     #\n" +
                "##### ##### ### # # ### ### ##### ##### ##### # ### # # ##### # # ######### ######### # # # # # ####### ### ##### ### #####X######### # ### # ##### # ### # #####\n" +
                "#   # #   #   # # # #   #   #   # #     #     # #   # #   #   # # # #       #         #   # # #   #   #     #       # #XXX#X#       # #   # #   #   # # # #     #\n" +
                "# ### # # # # # # # # ### # ### # ### ##### ##### ####### # ### # # # ####### ### ######### # ##### # ####### ####### #X#X#X# ##### # # ### ### ##### # # ##### #\n" +
                "#     # # # #   #   # #   #     #   # # #   #       #     #   #   #   #   #   #   #   #     #     # #   #     # #     #X#XXX#XXXXX# #   #XXXXX#     #   #       #\n" +
                "### ##### ########### ### ######### # # # ##### ### # ####### # ####### # ##### ### # # # ####### # # ### ##### # #####X#####X###X# #####X###X##### ### # #######\n" +
                "#   #   #     #       #   #       # #   # #   # #   #       # #       # #   # # #   #   #       # # #     #   #   #   #X#XXX#XXX#X#   #XXX#  XXXXXXX  # #       #\n" +
                "# ### # ##### # ####### ### ##### # ##### # # # ########### # ####### # ### # # # ############# # # ####### # # ##### #X#X#X###X#X#####X###########X# ##### ### #\n" +
                "# #   #   #   #   #       # #     # #       #           #   #     #   #   # # #       #       # #   #   #   # # #   # #XXX#XXXXX#XXXXX#X  #XXXXX  #X#       #   #\n" +
                "# # ##### # ##### # ### # # # ####### ################# # ####### # ####### # ### ### # ##### # ##### # ##### # # # # ###############X#X###X###X###X########### #\n" +
                "# #     #   #   #   # # # # #     #   #           #   #   #       # #   #   #     #   # #     # #     #       #   # # #     #     # #X#X  #X# #XXXXX#XXXXX#XXX# #\n" +
                "# ##### ####### ### # # # # ##### # ### ##### ### ### ### # ####### # # # ############# ######### ################# # ##### # ### # #X#X# #X# #######X###X#X#X# #\n" +
                "#     # #     #   # #   #   #     #     #     # #   # #   #     #   # # # #           #   #   #   #   #   #     #     #   # # #   #  XXX# #XXX#XXX#XXX# #XXX#X# #\n" +
                "##### # # ### ### # ######### ### ####### ##### ### # # ####### # ##### # # ######### ### # # # ### # # # ##### ##### # # # # # ######### ###X#X#X#X### #####X###\n" +
                "#   # # #   #   #     #     #   #   #   # #     #     #       # #   #   # #   #   #   #   # #     # #   # #   #   #   # # #   # #         #XXX#X#XXX# #XXXXX#XXX#\n" +
                "# # # # ### ### ####### # ##### ### ### # # ################### ### # ### ### # # # ### ### ##### # ##### # # ### # ##### ##### # ### #####X###X# ### #X###X###X#\n" +
                "# #   #   # # # #       #   # #   #     #   #                 # #   #   # #   # # #   #   #     # #   #   # #     #   #   #   # # #   #   #X#XXX#   # #XXX#XXXXX#\n" +
                "# ### ### # # # # # # ##### # ### ####### ### ######### ##### # # ### # # # ### # ### # # ##### # ### # # # ##### ### # ### # # # # ##### #X#X### # # # #X#######\n" +
                "#   #     #   #   # #     #       #       #   #         #       #     #   #     #   #   #       #     # #   #         #     #     #       #XXX#   #   # #XXXXXXE#\n" +
                "#################################################################################################################################################################\n";
        Maze maze = new Maze("large_input.txt");
        boolean solved = maze.solveMaze();
        Assert.assertEquals(true, solved);
        Assert.assertEquals(expected, maze.toString());
    }
}
